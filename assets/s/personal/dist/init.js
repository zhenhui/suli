define("sjplus/personal/0.0.1/init",[],function(a,b){var c={"rencent-news":{},"all-works":{path:"sjplus/personal/0.0.1/all-works/init"},like:{path:"sjplus/personal/0.0.1/like/init"},follow:{},"rights-management":{},"account-setting":{path:"sjplus/personal/0.0.1/account/init"},authenticate:{},"publish-pic":{path:"sjplus/personal/0.0.1/public-pic/init"}};KISSY.use("dom,event,json",function(d,e,f){function g(){var e=location.hash.lastIndexOf("{");if(0>e)i=location.hash.substring(1);else{i=location.hash.substring(1,e);try{d.log("转换锚点后方的数据"+location.hash.substring(e));var f=d.JSON.parse(location.hash.substring(e))}catch(g){d.log("无法转义数据")}}if(void 0!==f&&(h=f),c[i]&&c[i].path)a.async(c[i].path,function(a){a&&a.init&&a.init(h,i),b.highlight()});else{var j=$("#main-js-container");j.html("未定义:"+i)}b.highlight()}b.highlight=function(){var a=$("[data-behavior]"),b=a.filter('[data-behavior="'+i+'"]');a.removeClass("behavior-active");for(var c in h)b.filter('[href*="'+c+"="+h[c]+'"]').addClass("behavior-active");b.filter(".J-behavior").addClass("behavior-active")};var h={},i="";f.on(window,"hashchange",g),f.fire(window,"hashchange",g),$(document).on("click","[data-behavior]",function(a){var b=$(this);a.preventDefault();var c=this.getAttribute("hash"),e=b.data("behavior");if(c||(c=b.attr("href")),"string"==typeof c){var f,g=KISSY.unparam(c.substring(1));delete h.full_redirect,location.hash.indexOf("{")<0?(delete g.full_redirect,f=d.JSON.stringify(g)):"true"===g.full_redirect?(delete g.full_redirect,f=d.JSON.stringify(g)):(delete g.full_redirect,f=d.JSON.stringify(KISSY.mix(h,g))),location.hash=e+("{}"!==f?f:"")}})})});
